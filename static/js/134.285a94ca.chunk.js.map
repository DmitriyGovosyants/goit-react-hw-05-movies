{"version":3,"file":"static/js/134.285a94ca.chunk.js","mappings":"wOA0CA,UArCe,WAAO,IAAD,EACnB,GAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAQ,UAACF,EAAaG,IAAI,iBAAlB,QAA+B,IAAnE,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BH,EAAAA,EAAAA,UAAS,IAAnC,eAAOI,EAAP,KAAcC,EAAd,KACA,GAA0BL,EAAAA,EAAAA,UAAS,MAAnC,eAAOM,EAAP,KAAcC,EAAd,KAsBA,OApBAC,EAAAA,EAAAA,YAAU,WACR,GAAe,KAAXN,EAAJ,CAGAH,EAAgB,CAAEG,OAAAA,IAElB,IAAMO,EAAK,mCAAG,gHAIAC,EAAAA,EAAAA,IAAkBR,GAJlB,gBAGAS,EAHA,EAGRC,KAAQD,QAGVN,EAASM,GANC,gDAQVJ,EAAS,KAAEM,SARD,yDAAH,qDAWXJ,OACC,CAACP,EAAQH,KAGV,iCACE,SAAC,KAAD,CAAYe,SAAUX,IACrBG,IAAS,uBAAIA,IACbF,EAAMW,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,GACnB,OAAO,SAAC,KAAD,CAAoBC,QAASD,EAAID,MAAOA,GAAxBC,W,0MClCzBE,EAAU,mCAChBC,IAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAa,mCAAG,8FACdD,IAAAA,IAAA,qCAAwCD,IAD1B,mFAAH,qDAIbG,EAAiB,mCAAG,WAAOL,GAAP,iFAClBG,IAAAA,IAAA,gBAAmBH,EAAnB,oBAAiCE,IADf,mFAAH,sDAIjBI,EAAiB,mCAAG,WAAON,GAAP,iFAClBG,IAAAA,IAAA,gBAAmBH,EAAnB,4BAAyCE,IADvB,mFAAH,sDAIjBK,EAAiB,mCAAG,WAAOP,GAAP,iFAClBG,IAAAA,IAAA,gBAAmBH,EAAnB,4BAAyCE,IADvB,mFAAH,sDAIjBT,EAAiB,mCAAG,WAAOe,GAAP,iFAClBL,IAAAA,IAAA,+BAAkCD,EAAlC,kBAAmDM,IADjC,mFAAH","sources":["pages/Movies.jsx","services/filmsApi.js"],"sourcesContent":["import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { SearchForm, MovieLink } from 'components';\nimport { fetchMoviesByName } from 'services/filmsApi';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [search, setSearch] = useState(searchParams.get('search') ?? '');\n  const [films, setFilms] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (search === '') {\n      return;\n    }\n    setSearchParams({ search });\n\n    const fetch = async () => {\n      try {\n        const {\n          data: { results },\n        } = await fetchMoviesByName(search);\n\n        setFilms(results);\n      } catch (e) {\n        setError(e.message);\n      }\n    };\n    fetch();\n  }, [search, setSearchParams]);\n\n  return (\n    <>\n      <SearchForm onSearch={setSearch} />\n      {error && <p>{error}</p>}\n      {films.map(({ title, id }) => {\n        return <MovieLink key={id} movieId={id} title={title} />;\n      })}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = 'bfe20768c956c05046c7d088e4b361cd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrending = async () => {\n  return await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieDetails = async (id) => {\n  return await axios.get(`movie/${id}?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieCredits = async (id) => {\n  return await axios.get(`movie/${id}/credits?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieReviews = async (id) => {\n  return await axios.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n}\n\nexport const fetchMoviesByName = async (name) => {\n  return await axios.get(`search/movie?api_key=${API_KEY}&query=${name}`);\n}"],"names":["useSearchParams","searchParams","setSearchParams","useState","get","search","setSearch","films","setFilms","error","setError","useEffect","fetch","fetchMoviesByName","results","data","message","onSearch","map","title","id","movieId","API_KEY","axios","fetchTrending","fetchMovieDetails","fetchMovieCredits","fetchMovieReviews","name"],"sourceRoot":""}