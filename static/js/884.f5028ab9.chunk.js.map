{"version":3,"file":"static/js/884.f5028ab9.chunk.js","mappings":"6PAwDA,UAjDqB,WACnB,OAAwBA,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,UAAS,MAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,EAAY,OAAGN,QAAH,IAAGA,EAAAA,EAAW,IAuBhC,OArBAO,EAAAA,EAAAA,YAAU,WACR,GAAIH,EAASI,MAAO,CAClB,IAAMC,EAAWL,EAASI,MAAME,KAAKD,SAC/BE,EAASP,EAASI,MAAME,KAAKC,OACnCV,EAAWQ,EAAWE,MAEvB,CAACP,KAEJG,EAAAA,EAAAA,YAAU,WACR,IAAMK,EAAK,mCAAG,gHAEaC,EAAAA,EAAAA,IAAkBX,GAF/B,gBAEFY,EAFE,EAEFA,KAERjB,EAAQiB,GAJE,gDAMVf,EAAS,KAAEgB,SAND,yDAAH,qDASXH,MACC,CAACV,KAGF,iCACE,UAAC,KAAD,CAAMc,GAAIV,EAAV,WACE,SAAC,MAAD,IADF,aAICR,IAAS,uBAAIA,IACbF,IACC,iCACE,SAAC,KAAD,CAAWA,KAAMA,EAAMM,QAASA,KAChC,SAAC,EAAAe,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,c,0MC9CNC,EAAU,mCAChBC,IAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAa,mCAAG,8FACdD,IAAAA,IAAA,qCAAwCD,IAD1B,mFAAH,qDAIbN,EAAiB,mCAAG,WAAOS,GAAP,iFAClBF,IAAAA,IAAA,gBAAmBE,EAAnB,oBAAiCH,IADf,mFAAH,sDAIjBI,EAAiB,mCAAG,WAAOD,GAAP,iFAClBF,IAAAA,IAAA,gBAAmBE,EAAnB,4BAAyCH,IADvB,mFAAH,sDAIjBK,EAAiB,mCAAG,WAAOF,GAAP,iFAClBF,IAAAA,IAAA,gBAAmBE,EAAnB,4BAAyCH,IADvB,mFAAH,sDAIjBM,EAAiB,mCAAG,WAAOC,GAAP,iFAClBN,IAAAA,IAAA,+BAAkCD,EAAlC,kBAAmDO,IADjC,mFAAH","sources":["pages/MovieDetails.jsx","services/filmsApi.js"],"sourcesContent":["import { Suspense } from 'react';\nimport { Link, useParams, Outlet, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { IoArrowBackOutline } from 'react-icons/io5';\nimport { fetchMovieDetails } from 'services/filmsApi';\nimport { MovieCard } from 'components';\n\nconst MovieDetails = () => {\n  const [film, setFilm] = useState(null);\n  const [error, setError] = useState(null);\n  const [prevUrl, setPrevUrl] = useState(null);\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHref = prevUrl ?? '/';\n\n  useEffect(() => {\n    if (location.state) {\n      const pathname = location.state.from.pathname;\n      const search = location.state.from.search;\n      setPrevUrl(pathname + search);\n    }\n  }, [location]);\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const { data } = await fetchMovieDetails(movieId);\n\n        setFilm(data);\n      } catch (e) {\n        setError(e.message);\n      }\n    };\n    fetch();\n  }, [movieId]);\n\n  return (\n    <>\n      <Link to={backLinkHref}>\n        <IoArrowBackOutline />\n        Go back\n      </Link>\n      {error && <p>{error}</p>}\n      {film && (\n        <>\n          <MovieCard film={film} movieId={movieId} />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = 'bfe20768c956c05046c7d088e4b361cd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrending = async () => {\n  return await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieDetails = async (id) => {\n  return await axios.get(`movie/${id}?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieCredits = async (id) => {\n  return await axios.get(`movie/${id}/credits?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieReviews = async (id) => {\n  return await axios.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n}\n\nexport const fetchMoviesByName = async (name) => {\n  return await axios.get(`search/movie?api_key=${API_KEY}&query=${name}`);\n}"],"names":["useState","film","setFilm","error","setError","prevUrl","setPrevUrl","movieId","useParams","location","useLocation","backLinkHref","useEffect","state","pathname","from","search","fetch","fetchMovieDetails","data","message","to","Suspense","fallback","API_KEY","axios","fetchTrending","id","fetchMovieCredits","fetchMovieReviews","fetchMoviesByName","name"],"sourceRoot":""}