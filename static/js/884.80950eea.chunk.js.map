{"version":3,"file":"static/js/884.80950eea.chunk.js","mappings":"6PA0DA,UA7CqB,WAAO,IAAD,IACzB,GAAwBA,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MAGXC,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IACvCC,GAAWC,EAAAA,EAAAA,QAAOL,GAiBxB,OAfAM,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAK,mCAAG,gHAEaC,EAAAA,EAAAA,IAAkBZ,GAF/B,gBAEFa,EAFE,EAEFA,KACRhB,EAAQgB,GAHE,gDAKgB,MAAtB,KAAEC,SAASC,QACbb,EAAS,KAEXH,EAAS,KAAEiB,SARD,yDAAH,qDAWXL,MACC,CAACX,EAASE,KAGX,iCACE,UAAC,KAAD,CAAMe,GAAIb,EAAV,WACE,SAAC,MAAD,IADF,aAICN,IAAS,uBAAIA,IACbF,IACC,iCACE,SAAC,KAAD,CAAWA,KAAMA,EAAMI,QAASA,EAASQ,SAAUA,KACnD,SAAC,EAAAU,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,c,0MChDNC,EAAU,mCAChBC,IAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAa,mCAAG,8FACdD,IAAAA,IAAA,qCAAwCD,IAD1B,mFAAH,qDAIbR,EAAiB,mCAAG,WAAOW,GAAP,iFAClBF,IAAAA,IAAA,gBAAmBE,EAAnB,oBAAiCH,IADf,mFAAH,sDAIjBI,EAAiB,mCAAG,WAAOD,GAAP,iFAClBF,IAAAA,IAAA,gBAAmBE,EAAnB,4BAAyCH,IADvB,mFAAH,sDAIjBK,EAAiB,mCAAG,WAAOF,GAAP,iFAClBF,IAAAA,IAAA,gBAAmBE,EAAnB,4BAAyCH,IADvB,mFAAH,sDAIjBM,EAAiB,mCAAG,WAAOC,GAAP,iFAClBN,IAAAA,IAAA,+BAAkCD,EAAlC,kBAAmDO,IADjC,mFAAH","sources":["pages/MovieDetails.jsx","services/filmsApi.js"],"sourcesContent":["import { Suspense } from 'react';\nimport {\n  Link,\n  useParams,\n  Outlet,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport { IoArrowBackOutline } from 'react-icons/io5';\nimport { fetchMovieDetails } from 'services/filmsApi';\nimport { MovieCard } from 'components';\n\nconst MovieDetails = () => {\n  const [film, setFilm] = useState(null);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const backFrom = useRef(backLinkHref);\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const { data } = await fetchMovieDetails(movieId);\n        setFilm(data);\n      } catch (e) {\n        if (e.response.status === 404) {\n          navigate(`/`);\n        }\n        setError(e.message);\n      }\n    };\n    fetch();\n  }, [movieId, navigate]);\n\n  return (\n    <>\n      <Link to={backLinkHref}>\n        <IoArrowBackOutline />\n        Go back\n      </Link>\n      {error && <p>{error}</p>}\n      {film && (\n        <>\n          <MovieCard film={film} movieId={movieId} backFrom={backFrom} />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = 'bfe20768c956c05046c7d088e4b361cd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrending = async () => {\n  return await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieDetails = async (id) => {\n  return await axios.get(`movie/${id}?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieCredits = async (id) => {\n  return await axios.get(`movie/${id}/credits?api_key=${API_KEY}`);\n}\n\nexport const fetchMovieReviews = async (id) => {\n  return await axios.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n}\n\nexport const fetchMoviesByName = async (name) => {\n  return await axios.get(`search/movie?api_key=${API_KEY}&query=${name}`);\n}"],"names":["useState","film","setFilm","error","setError","movieId","useParams","navigate","useNavigate","backLinkHref","useLocation","state","from","backFrom","useRef","useEffect","fetch","fetchMovieDetails","data","response","status","message","to","Suspense","fallback","API_KEY","axios","fetchTrending","id","fetchMovieCredits","fetchMovieReviews","fetchMoviesByName","name"],"sourceRoot":""}